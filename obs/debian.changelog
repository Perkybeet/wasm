wasm (0.13.16-1) unstable; urgency=medium

  * Fix: Move python3-inquirer from Depends to Recommends
  * Fix: Package installs on systems without python3-inquirer in repos
  * Enhancement: Interactive mode now optional (install inquirer via pip)

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Tue, 14 Jan 2026 12:00:00 +0000

wasm (0.13.15-1) unstable; urgency=medium

  * Enhancement: Set update checker interval to instant (CHECK_INTERVAL = 0)
  * Enhancement: Change update notification color to softer yellow (\\033[33m)
  * Enhancement: Update notifications more visible but less aggressive
  * Feature: Add --changelog flag to view current version changelog
  * Feature: New version.py module for version information display
  * Enhancement: Users can see changelog without visiting GitHub
  * Enhancement: Fallback to GitHub release notes if changelog unavailable
  * docs: Document OBS build failure prevention in CLAUDE.md
  * docs: Add comprehensive OBS Package Management section

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Wed, 15 Jan 2026 04:00:00 +0000

wasm (0.13.14-1) unstable; urgency=medium

  * Fix: OBS build failures - add missing python3-inquirer dependency
  * Fix: Update debian.changelog and RPM spec changelog for 0.13.13
  * Enhancement: Ensure all OBS package dependencies are declared

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Wed, 15 Jan 2026 01:00:00 +0000

wasm (0.13.13-1) unstable; urgency=medium

  * Fix: Critical bare except clause in monitor API
  * Fix: Static apps (Vite) trying to restart non-existent services
  * Fix: Update checker now detects installation method (pip/apt/dnf/etc)
  * Fix: APT package name in update checker (wasm vs wasm-cli)
  * Enhancement: Comprehensive logging for silent exception catches
  * Enhancement: Contextual HTTP error messages in API endpoints
  * Enhancement: Error handling for file operations (env files, journalctl)
  * Feature: Update banner in web dashboard
  * Feature: /api/system/version endpoint for update checking

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Wed, 15 Jan 2026 00:00:00 +0000

wasm (0.13.12-1) unstable; urgency=medium

  * chore: Clean distribution packages (remove Docker files, dev tools)
  * docs: Rewrite README professionally without emojis
  * feat: Add .gitattributes to exclude dev files from git archive
  * feat: Add MANIFEST.in to control PyPI source distribution
  * Package cleanup: removed Dockerfile*, docker/, docker-compose.obs.yml

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Tue, 14 Jan 2026 17:30:00 +0000

wasm (0.13.11-1) unstable; urgency=medium

  * Fix: Environment variables with quotes now properly stripped from .env files
  * Fix: Systemd service files no longer have double-quoted env vars
  * Feature: Automatic update checker via GitHub Releases API
  * Feature: Update notifications shown every hour (cached, non-blocking)
  * Enhancement: Update checker runs post-command to avoid delays

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Tue, 14 Jan 2026 16:30:00 +0000

wasm (0.13.9-1) unstable; urgency=medium

  * Fix: 'wasm store import' now updates app type for existing apps
  * Enhancement: Apps with type 'unknown' get re-detected on import

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Wed, 08 Jan 2026 20:00:00 +0000

wasm (0.13.8-1) unstable; urgency=medium

  * Feature: 'wasm store import' now auto-detects app type
    - Detects nextjs (next.config.*, package.json next dep)
    - Detects vite (vite.config.*, package.json vite dep)
    - Detects nodejs (package.json)
    - Detects python (requirements.txt, setup.py, pyproject.toml)
    - Detects static (index.html)

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Wed, 08 Jan 2026 19:00:00 +0000

wasm (0.13.7-1) unstable; urgency=medium

  * Fix: 'wasm store sync' now also updates app status (running/stopped)
  * Enhancement: sync shows both services and apps updated

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Wed, 08 Jan 2026 18:00:00 +0000

wasm (0.13.6-1) unstable; urgency=medium

  * Fix: 'wasm store sync' using service.active instead of service.status
  * Fix: Consistent attribute naming in store sync function
  * All store-related fixes from 0.13.2-0.13.5 consolidated

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Wed, 08 Jan 2026 17:00:00 +0000

wasm (0.13.5-1) unstable; urgency=medium

  * Fix: 'wasm store import' now finds app directories with different naming
    - Searches: app-name, domain.com, wasm-app-name
  * Fix: Import correctly links existing apps to sites

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Wed, 08 Jan 2026 16:00:00 +0000

wasm (0.13.4-1) unstable; urgency=medium

  * Fix: 'wasm store import' using wrong attribute name (unit_file vs service_file)

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Wed, 08 Jan 2026 15:00:00 +0000

wasm (0.13.3-1) unstable; urgency=high

  * Fix: Corrupted debian.postrm script causing upgrade failure
  * Bug caused 'syntax error near unexpected token instructions'

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Wed, 08 Jan 2026 14:00:00 +0000

wasm (0.13.2-1) unstable; urgency=medium

  * Feature: SQLite persistence store for tracking deployed apps
  * New: Store tracks apps, sites, services, and databases
  * New: wasm store commands (init, stats, import, export, sync, path)
  * Enhancement: webapp list/status commands now use SQLite store
  * Enhancement: Database create/drop commands track in store
  * Enhancement: Managers (nginx, apache, service, cert) register in store
  * Fix: GitHub Actions .deb build missing pybuild-plugin-pyproject

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Wed, 08 Jan 2026 12:00:00 +0000

wasm (0.13.1-1) unstable; urgency=medium

  * Fix: Systemd services failing with 'Permission denied' when using nvm
  * Fix: Detect and avoid private paths (nvm, ~/.local) in service ExecStart
  * Fix: Prefer global Node.js installation over user-specific nvm paths
  * Enhancement: Add helpful error messages for nvm path issues

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Mon, 30 Dec 2025 18:00:00 +0000

wasm (0.13.0-1) unstable; urgency=medium

  * Feature: Database UI overhaul with logs, tabs, and SQL import
  * Feature: Database credential management via config.yaml
  * Fix: MySQL connection with password protection
  * Fix: Local environment installation issues

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Mon, 24 Feb 2025 12:00:00 +0000

wasm (0.11.4-1) unstable; urgency=medium

  * Fix: Backup API using wrong attribute names (backup_id vs id)
  * Fix: Add -y flag as alias for --force/-f in delete commands
  * Fix: WebSocket logs handler error handling and stderr capture
  * Fix: Frontend logs page now handles error and warning messages
  * Fix: Create backup endpoint using correct BackupManager.create() signature

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Sat, 21 Dec 2025 16:00:00 +0000

wasm (0.11.3-1) unstable; urgency=medium

  * Fix: GitHub Actions workflow version extraction for OBS tarball naming
  * The sed regex was including parentheses in version string

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Sat, 21 Dec 2025 13:00:00 +0000

wasm (0.11.2-1) unstable; urgency=medium

  * Fix: Make web dependencies optional (Recommends) for OBS packages
  * Web dependencies like python3-fastapi are not available as native packages
    in Fedora/openSUSE, so they must be installed via pip when needed

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Sat, 21 Dec 2025 12:00:00 +0000

wasm (0.11.1-1) unstable; urgency=medium

  * Fix: Include web dependencies in OBS packages (deb/rpm)
  * Add python3-fastapi, python3-uvicorn, python3-jose, python3-passlib,
    python3-bcrypt, python3-psutil, python3-aiofiles as package dependencies
  * Improve error messages for missing web dependencies
  * Show OS-specific installation instructions (apt/dnf/zypper/pip)

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Sat, 20 Dec 2025 12:00:00 +0000

wasm (0.11.0-1) unstable; urgency=medium

  * New feature: Web Interface Dashboard (wasm web start/stop/status)
  * REST API for remote application management
  * Real-time WebSocket updates for logs and events
  * Token-based authentication with JWT
  * Rate limiting and brute force protection
  * API endpoints: /api/apps, /api/services, /api/sites, /api/certs
  * API endpoints: /api/backups, /api/monitor, /api/system, /api/config
  * Background job processing with progress tracking
  * Optional dependencies: pip install wasm-cli[web]

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Thu, 19 Dec 2024 23:00:00 +0000

wasm (0.10.5-1) unstable; urgency=medium

  * Detect OOM (Out of Memory) build failures with exit code 137
  * Provide actionable suggestions for resolving memory issues
  * Add OutOfMemoryError exception with swap/memory configuration tips

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Thu, 19 Dec 2024 22:00:00 +0000

wasm (0.10.4-1) unstable; urgency=medium

  * CI: Automatic deployment to OBS on release
  * Fix: OBS deployment configuration in GitHub Actions

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Thu, 19 Dec 2024 20:00:00 +0000

wasm (0.10.3-1) unstable; urgency=medium

  * Fix: Git pull with unstaged/uncommitted changes during wasm update
  * Auto-stash local changes before pull, restore after
  * Handle divergent branches with automatic reset to remote
  * Handle rebase conflicts gracefully
  * Preserve .env and untracked files during force updates

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Thu, 19 Dec 2024 18:00:00 +0000

wasm (0.10.2-1) unstable; urgency=medium

  * Fix: Git "dubious ownership" error during wasm update
  * Auto-configure git safe.directory for app directories

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Thu, 19 Dec 2024 12:00:00 +0000

wasm (0.10.0-1) unstable; urgency=medium

  * New feature: Backup and Rollback system
  * Add 'wasm backup create <domain>' - Create application backups
  * Add 'wasm backup list [domain]' - List all or app-specific backups
  * Add 'wasm backup restore <backup_id>' - Restore from backup
  * Add 'wasm backup delete <backup_id>' - Delete a backup
  * Add 'wasm backup verify <backup_id>' - Verify backup integrity
  * Add 'wasm backup info <backup_id>' - Show backup details
  * Add 'wasm backup storage' - Display storage usage statistics
  * Add 'wasm rollback <domain> [backup_id]' - Quick rollback to previous state
  * Auto-backup before 'wasm update' for safe rollback
  * Backup rotation (configurable max backups per app)
  * SHA256 checksum verification for backup integrity
  * Git commit/branch tracking in backup metadata
  * Exclude node_modules, .git, cache by default (configurable)
  * JSON output support for automation (--json flag)
  * Fix: Service create --command argument conflict
  * Fix: Nginx template duplicate location for health_check=/
  * Improvement: Use absolute paths in systemd services
  * 132 tests passing

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Wed, 18 Dec 2024 18:00:00 +0000

wasm (0.9.2-1) unstable; urgency=medium

  * Fix: Show complete error output (stdout+stderr) when dependency install fails
  * Fix: Auto-retry without --frozen-lockfile when strict lockfile install fails
  * Fix: Config file now properly updated during 'wasm setup init' when exists
  * Fix: Better error display with line limit (20 default, 50 with --verbose)
  * Improve pnpm/yarn compatibility with version mismatch fallback

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Wed, 18 Dec 2024 02:00:00 +0000

wasm (0.9.1-1) unstable; urgency=medium

  * Fix setup.py for Ubuntu Jammy compatibility
  * Provide explicit package metadata in setup.py for older build systems
  * Fix pybuild "UNKNOWN wheel" error on Jammy

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Wed, 18 Dec 2024 01:00:00 +0000

wasm (0.9.0-1) unstable; urgency=medium

  * Major enhancement: Comprehensive system dependency checker
  * Add guided 'wasm setup init' wizard with 6 installation phases
  * Add 'wasm setup doctor' command for system diagnostics
  * Support for Node.js package managers: npm, pnpm, yarn, bun
  * Pre-deployment verification warns about missing dependencies
  * Package manager fallback: auto-use available PM if requested not found
  * Add setup.py fallback for Ubuntu Jammy (22.04) compatibility
  * Improved error messages with actionable hints
  * 93 tests passing

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Wed, 18 Dec 2024 00:00:00 +0000

wasm (0.8.3-1) unstable; urgency=medium

  * Add SSH key validation and setup wizard for Git authentication
  * Auto-generate SSH keys when cloning private repos without SSH configured
  * Add 'wasm setup ssh' command to manage SSH keys
  * Improve error messages with step-by-step guidance
  * Fix test suite compatibility issues

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Tue, 17 Dec 2024 16:00:00 +0000

wasm (0.8.2-1) unstable; urgency=medium

  * Auto-install python3-inquirer via pip during package installation
  * Remove python3-inquirer from package dependencies (not in Ubuntu repos)
  * Add python3-pip as dependency for post-install script
  * All dependencies now install automatically with the package

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Tue, 17 Dec 2024 10:00:00 +0000

wasm (0.8.1-1) unstable; urgency=medium

  * Fix: python3-inquirer now a required dependency (was Recommends)
  * Interactive mode (-i) now works out of the box

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Mon, 16 Dec 2024 19:00:00 +0000

wasm (0.8.0-1) unstable; urgency=medium

  * Major version bump to 0.8.0
  * Add AI-powered process monitoring with OpenAI integration
  * Add email notifications for security threats (SMTP support)
  * Add automatic malicious process termination
  * Add pattern-based threat detection
  * Fix config file permissions for non-root users
  * Improve CLI structure and help messages

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Mon, 16 Dec 2024 18:00:00 +0000

wasm (0.1.0-1) unstable; urgency=medium

  * Initial release.

 -- Yago López Prado <yago.lopez.adeje@gmail.com>  Mon, 16 Dec 2024 10:00:00 +0000
